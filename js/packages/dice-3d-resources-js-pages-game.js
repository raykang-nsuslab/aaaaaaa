"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6188],{65596:(t,e,a)=>{a.d(e,{_x:()=>v,bb:()=>p,dl:()=>b,ly:()=>y,ow:()=>x,pj:()=>w,y_:()=>g});var n=a(1125),i=a(2212);function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=l(t);if(e){var i=l(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,a)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),n)}var i,o}function d(t,e,a){return e&&h(t.prototype,e),a&&h(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}t=a.hmd(t);var f=function(){function t(){u(this,t),this.world=null}return d(t,[{key:"setWorld",value:function(t){this.world=t,this.diceBodyMaterial=new n.Material,this.floorBodyMaterial=new n.Material,this.barrierBodyMaterial=new n.Material,t.addContactMaterial(new n.ContactMaterial(this.floorBodyMaterial,this.diceBodyMaterial,{friction:.01,restitution:.5})),t.addContactMaterial(new n.ContactMaterial(this.barrierBodyMaterial,this.diceBodyMaterial,{friction:0,restitution:1})),t.addContactMaterial(new n.ContactMaterial(this.diceBodyMaterial,this.diceBodyMaterial,{friction:0,restitution:.5}))}},{key:"prepareValues",value:function(t,e){var a=this;if(this.throwRunning)throw new Error("Cannot start another throw. Please wait, till the current throw is finished.");for(var n=0;n<t.length;n++)if(t[n].value<1||t[n].dice.values<t[n].value)throw new Error("Cannot throw die to value "+t[n].value+", because it has only "+t[n].dice.values+" sides.");this.throwRunning=!0;for(var i=0;i<t.length;i++)t[i].dice.simulationRunning=!0,t[i].stableCount=0,t[i].steps=[],t[i].sound=[],t[i].lastSound=0,t[i].steps.push(t[i].dice.getVisibleVectors());var o=!1,r=function(){o=!0};e.addEventListener("collide",r);this.world.addEventListener("postStep",(function n(){for(var i=!0,s=0;s<t.length;s++)t[s].dice.isFinished()?t[s].stableCount++:t[s].stableCount=0,t[s].stableCount<50&&(i=!1),t[s].steps.push(t[s].dice.getVisibleVectors()),t[s].sound.push(o);if(o=!1,a.simulateStep++,i){w.world.removeEventListener("postStep",n),e.removeEventListener("collide",r);for(var l=0;l<t.length;l++)t[l].dice.shiftUpperValue(t[l].value),t[l].dice.simulationRunning=!1;a.throwRunning=!1}else w.world.step(1/60)})),w.world.step(1/60)}}]),t}(),m=function(){function t(e){u(this,t),e=this.setDefaults(e,{size:100,fontColor:"#000000",backColor:"#ffffff"}),this.object=null,this.size=e.size,this.invertUpside=!1,this.materialOptions={specular:1515554,color:15790320,shininess:40,flatShading:!0},this.labelColor=e.fontColor,this.diceColor=e.backColor}return d(t,[{key:"setDefaults",value:function(t,e){for(var a in t=t||{},e)e.hasOwnProperty(a)&&(a in t||(t[a]=e[a]));return t}},{key:"emulateThrow",value:function(t){var e=this,a=0;w.world.addEventListener("postStep",(function n(){e.isFinished()?50===++a&&(w.world.removeEventListener("postStep",n),t(e.getUpsideValue())):a=0,w.world.step(w.world.dt)}))}},{key:"isFinished",value:function(){var t=this.object.body.angularVelocity,e=this.object.body.velocity;return Math.abs(t.x)<1&&Math.abs(t.y)<1&&Math.abs(t.z)<1&&Math.abs(e.x)<1&&Math.abs(e.y)<1&&Math.abs(e.z)<1}},{key:"getUpsideValue",value:function(){for(var t,e=new i.Pa4(0,this.invertUpside?-1:1),a=2*Math.PI,n=0;n<this.object.geometry.faces.length;++n){var o=this.object.geometry.faces[n];if(0!==o.materialIndex){var r=o.normal.clone().applyQuaternion(this.object.body.quaternion).angleTo(e);r<a&&(a=r,t=o)}}return t.materialIndex-1}},{key:"getVisibleVectors",value:function(){return{position:this.object.body.position.clone(),quaternion:this.object.body.quaternion.clone()}}},{key:"getCurrentVectors",value:function(){return{position:this.object.body.position.clone(),quaternion:this.object.body.quaternion.clone(),velocity:this.object.body.velocity.clone(),angularVelocity:this.object.body.angularVelocity.clone()}}},{key:"setVectors",value:function(t){this.object.body.position=t.position,this.object.body.quaternion=t.quaternion,this.object.body.velocity=t.velocity,this.object.body.angularVelocity=t.angularVelocity}},{key:"shiftUpperValue",value:function(t){var e=this.shiftUpperValueCustom(t);if(!e){e=this.object.geometry.clone();for(var a=this.getUpsideValue(),n=0,i=e.faces.length;n<i;++n){var o=e.faces[n].materialIndex;if(0!==o){for(o+=t-a-1;o>this.values;)o-=this.values;for(;o<1;)o+=this.values;e.faces[n].materialIndex=o+1}}}this.object.geometry=e}},{key:"getChamferGeometry",value:function(t,e,a){for(var n=[],o=[],r=new Array(t.length),s=0;s<t.length;++s)r[s]=[];for(var l=0;l<e.length;++l){for(var c=e[l],u=c.length-1,h=new i.Pa4,d=new Array(u),f=0;f<u;++f){var m=t[c[f]].clone();h.add(m),r[c[f]].push(d[f]=n.push(m)-1)}h.divideScalar(u);for(var p=0;p<u;++p){var y=n[d[p]];y.subVectors(y,h).multiplyScalar(a).addVectors(y,h)}d.push(c[u]),o.push(d)}for(var v=0;v<e.length-1;++v)for(var b=v+1;b<e.length;++b){for(var g=[],x=-1,w=0;w<e[v].length-1;++w){var P=e[b].indexOf(e[v][w]);P>=0&&P<e[b].length-1&&(x>=0&&w!==x+1?g.unshift([v,w],[b,P]):g.push([v,w],[b,P]),x=w)}4===g.length&&o.push([o[g[0][0]][g[0][1]],o[g[1][0]][g[1][1]],o[g[3][0]][g[3][1]],o[g[2][0]][g[2][1]],-1])}for(var _=0;_<r.length;++_){for(var M=r[_],C=[M[0]],j=M.length-1;j;){for(var k=e.length;k<o.length;++k){var S=o[k].indexOf(C[C.length-1]);if(S>=0&&S<4){-1==--S&&(S=3);var B=o[k][S];if(M.indexOf(B)>=0){C.push(B);break}}}--j}C.push(-1),o.push(C)}return{vectors:n,faces:o}}},{key:"makeGeometry",value:function(t,e,a,n,o){for(var r=new i.ZXM,s=0;s<t.length;++s){var l=t[s].multiplyScalar(a);l.index=r.vertices.push(l)-1}for(var c=0;c<e.length;++c)for(var u=e[c],h=u.length-1,d=2*Math.PI/h,f=0;f<h-2;++f)r.faces.push(new i.G_f(u[0],u[f+1],u[f+2],[r.vertices[u[0]],r.vertices[u[f+1]],r.vertices[u[f+2]]],0,u[h]+1)),r.faceVertexUvs[0].push([new i.FM8((Math.cos(o)+1+n)/2/(1+n),(Math.sin(o)+1+n)/2/(1+n)),new i.FM8((Math.cos(d*(f+1)+o)+1+n)/2/(1+n),(Math.sin(d*(f+1)+o)+1+n)/2/(1+n)),new i.FM8((Math.cos(d*(f+2)+o)+1+n)/2/(1+n),(Math.sin(d*(f+2)+o)+1+n)/2/(1+n))]);return r.computeFaceNormals(),r.boundingSphere=new i.aLr(new i.Pa4,a),r}},{key:"createShape",value:function(t,e,a){for(var i=new Array(t.length),o=new Array(e.length),r=0;r<t.length;++r){var s=t[r];i[r]=new n.Vec3(s.x*a,s.y*a,s.z*a)}for(var l=0;l<e.length;++l)o[l]=e[l].slice(0,e[l].length-1);return new n.ConvexPolyhedron(i,o)}},{key:"getGeometry",value:function(){for(var t=this.size*this.scaleFactor,e=new Array(this.vertices.length),a=0;a<this.vertices.length;++a)e[a]=(new i.Pa4).fromArray(this.vertices[a]).normalize();var n=this.getChamferGeometry(e,this.faces,this.chamfer),o=this.makeGeometry(n.vectors,n.faces,t,this.tab,this.af);return o.cannon_shape=this.createShape(e,this.faces,t),o}},{key:"calculateTextureSize",value:function(t){return Math.max(128,Math.pow(2,Math.floor(Math.log(t)/Math.log(2))))}},{key:"createTextTexture",value:function(t,e,a){var n=document.createElement("canvas"),o=n.getContext("2d"),r=2*this.calculateTextureSize(this.size/2+this.size*this.textMargin);n.width=n.height=r,o.font=r/(1+2*this.textMargin)+"pt Arial",o.fillStyle=a,o.fillRect(0,0,n.width,n.height),o.textAlign="center",o.textBaseline="middle",o.fillStyle=e,o.fillText(t,n.width/2,n.height/2);var s=new i.xEZ(n);return s.needsUpdate=!0,s}},{key:"getMaterials",value:function(){for(var t=[],e=0;e<this.faceTexts.length;++e){var a=null;a=this.customTextTextureFunction?this.customTextTextureFunction(this.faceTexts[e],this.labelColor,this.diceColor):this.createTextTexture(this.faceTexts[e],this.labelColor,this.diceColor),t.push(new i.xoR(Object.assign({},this.materialOptions,{map:a})))}return t}},{key:"getObject",value:function(){return this.object}},{key:"create",value:function(){if(!w.world)throw new Error("You must call DiceManager.setWorld(world) first.");return this.object=new i.Kj0(this.getGeometry(),this.getMaterials()),this.object.reveiceShadow=!0,this.object.castShadow=!0,this.object.diceObject=this,this.object.body=new n.Body({mass:this.mass,shape:this.object.geometry.cannon_shape,material:w.diceBodyMaterial}),this.object.body.linearDamping=.1,this.object.body.angularDamping=.1,w.world.add(this.object.body),this.object}},{key:"updateMeshFromBody",value:function(){this.simulationRunning||(this.object.position.copy(this.object.body.position),this.object.quaternion.copy(this.object.body.quaternion))}},{key:"updateBodyFromMesh",value:function(){this.object.body.position.copy(this.object.position),this.object.body.quaternion.copy(this.object.quaternion)}},{key:"setMeshFrom",value:function(t){this.object.position.copy(t.position),this.object.quaternion.copy(t.quaternion)}},{key:"shiftUpperValueCustom",value:function(t){return null}}]),t}(),p=function(t){o(a,t);var e=s(a);function a(t){var n;return u(this,a),(n=e.call(this,t)).tab=-.1,n.af=7*Math.PI/6,n.chamfer=.96,n.vertices=[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],n.faces=[[1,0,2,1],[0,1,3,2],[0,3,2,3],[1,2,3,4]],n.faceTexts=[[],[0,0,0],[2,4,3],[1,3,4],[2,1,4],[1,2,3]],n.scaleFactor=1.2,n.values=4,n.d4FaceTexts=[[[[],[0,0,0],[2,4,3],[1,3,4],[2,1,4],[1,2,3]],[[],[0,0,0],[1,4,3],[2,3,4],[1,2,4],[2,1,3]],[[],[0,0,0],[2,4,1],[3,1,4],[2,3,4],[3,2,1]],[[],[0,0,0],[2,1,3],[4,3,1],[2,4,1],[4,2,3]]],[[[],[0,0,0],[1,4,3],[2,3,4],[1,2,4],[2,1,3]],[[],[0,0,0],[2,4,3],[1,3,4],[2,1,4],[1,2,3]],[[],[0,0,0],[3,4,2],[1,2,4],[3,1,4],[1,3,2]],[[],[0,0,0],[4,2,3],[1,3,2],[4,1,2],[1,4,3]]],[[[],[0,0,0],[2,4,1],[3,1,4],[2,3,4],[3,2,1]],[[],[0,0,0],[3,4,2],[1,2,4],[3,1,4],[1,3,2]],[[],[0,0,0],[2,4,3],[1,3,4],[2,1,4],[1,2,3]],[[],[0,0,0],[2,3,4],[1,4,3],[2,1,3],[1,2,4]]],[[[],[0,0,0],[2,1,3],[4,3,1],[2,4,1],[4,2,3]],[[],[0,0,0],[4,2,3],[1,3,2],[4,1,2],[1,4,3]],[[],[0,0,0],[2,3,4],[1,4,3],[2,1,3],[1,2,4]],[[],[0,0,0],[2,4,3],[1,3,4],[2,1,4],[1,2,3]]]],n.shiftUpperValueCustom=function(t){var e=n.object.geometry,a=n.getUpsideValue();return n.faceTexts=n.d4FaceTexts[a-1][t-1],n.object.material=n.getMaterials(),e},n.customTextTextureFunction=function(t,e,a){var n=document.createElement("canvas"),o=n.getContext("2d"),r=2*this.calculateTextureSize(this.size/2+2*this.size);for(var s in n.width=n.height=r,o.font=r/5+"pt Arial",o.fillStyle=a,o.fillRect(0,0,n.width,n.height),o.textAlign="center",o.textBaseline="middle",o.fillStyle=e,t)o.fillText(t[s],n.width/2,n.height/2-.3*r),o.translate(n.width/2,n.height/2),o.rotate(2*Math.PI/3),o.translate(-n.width/2,-n.height/2);var l=new i.xEZ(n);return l.needsUpdate=!0,l},n.mass=300,n.inertia=5,n.invertUpside=!0,n.create(),n}return d(a)}(m),y=function(t){o(a,t);var e=s(a);function a(t){var n;return u(this,a),(n=e.call(this,t)).tab=.1,n.af=Math.PI/4,n.chamfer=.96,n.vertices=[[-1,-1,-1],[1,-1,-1],[1,1,-1],[-1,1,-1],[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1]],n.faces=[[0,3,2,1,1],[1,2,6,5,2],[0,1,5,4,3],[3,7,6,2,4],[0,4,7,3,5],[4,5,6,7,6]],n.scaleFactor=.9,n.values=6,n.faceTexts=[" ","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],n.textMargin=1,n.mass=300,n.inertia=13,n.create(),n}return d(a)}(m),v=function(t){o(a,t);var e=s(a);function a(t){var n;return u(this,a),(n=e.call(this,t)).tab=0,n.af=-Math.PI/4/2,n.chamfer=.965,n.vertices=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],n.faces=[[0,2,4,1],[0,4,3,2],[0,3,5,3],[0,5,2,4],[1,3,4,5],[1,4,2,6],[1,2,5,7],[1,5,3,8]],n.scaleFactor=1,n.values=8,n.faceTexts=[" ","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],n.textMargin=1.2,n.mass=340,n.inertia=10,n.create(),n}return d(a)}(m),b=function(t){o(a,t);var e=s(a);function a(t){var n;u(this,a),(n=e.call(this,t)).tab=0,n.af=6*Math.PI/5,n.chamfer=.945,n.vertices=[],n.faces=[[5,7,11,0],[4,2,10,1],[1,3,11,2],[0,8,10,3],[7,9,11,4],[8,6,10,5],[9,1,11,6],[2,0,10,7],[3,5,11,8],[6,4,10,9],[1,0,2,-1],[1,2,3,-1],[3,2,4,-1],[3,4,5,-1],[5,4,6,-1],[5,6,7,-1],[7,6,8,-1],[7,8,9,-1],[9,8,0,-1],[9,0,1,-1]];for(var i=0,o=0;i<10;++i,o+=2*Math.PI/10)n.vertices.push([Math.cos(o),Math.sin(o),.105*(i%2?1:-1)]);return n.vertices.push([0,0,-1]),n.vertices.push([0,0,1]),n.scaleFactor=.9,n.values=10,n.faceTexts=[" ","0","1","2","3","4","5"," 6.","7","8"," 9.","10","11","12","13","14","15","16","17","18","19","20"],n.textMargin=1,n.mass=350,n.inertia=9,n.create(),n}return d(a)}(m),g=function(t){o(a,t);var e=s(a);function a(t){var n;u(this,a),n=e.call(this,t);var i=(1+Math.sqrt(5))/2,o=1/i;return n.tab=.2,n.af=-Math.PI/4/2,n.chamfer=.968,n.vertices=[[0,o,i],[0,o,-i],[0,-o,i],[0,-o,-i],[i,0,o],[i,0,-o],[-i,0,o],[-i,0,-o],[o,i,0],[o,-i,0],[-o,i,0],[-o,-i,0],[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]],n.faces=[[2,14,4,12,0,1],[15,9,11,19,3,2],[16,10,17,7,6,3],[6,7,19,11,18,4],[6,18,2,0,16,5],[18,11,9,14,2,6],[1,17,10,8,13,7],[1,13,5,15,3,8],[13,8,12,4,5,9],[5,4,14,9,15,10],[0,12,8,10,16,11],[3,19,7,17,1,12]],n.scaleFactor=.9,n.values=12,n.faceTexts=[" ","0","1","2","3","4","5"," 6.","7","8"," 9.","10","11","12","13","14","15","16","17","18","19","20"],n.textMargin=1,n.mass=350,n.inertia=8,n.create(),n}return d(a)}(m),x=function(t){o(a,t);var e=s(a);function a(t){var n;u(this,a),n=e.call(this,t);var i=(1+Math.sqrt(5))/2;return n.tab=-.2,n.af=-Math.PI/4/2,n.chamfer=.955,n.vertices=[[-1,i,0],[1,i,0],[-1,-i,0],[1,-i,0],[0,-1,i],[0,1,i],[0,-1,-i],[0,1,-i],[i,0,-1],[i,0,1],[-i,0,-1],[-i,0,1]],n.faces=[[0,11,5,1],[0,5,1,2],[0,1,7,3],[0,7,10,4],[0,10,11,5],[1,5,9,6],[5,11,4,7],[11,10,2,8],[10,7,6,9],[7,1,8,10],[3,9,4,11],[3,4,2,12],[3,2,6,13],[3,6,8,14],[3,8,9,15],[4,9,5,16],[2,4,11,17],[6,2,10,18],[8,6,7,19],[9,8,1,20]],n.scaleFactor=1,n.values=20,n.faceTexts=[" ","0","1","2","3","4","5"," 6.","7","8"," 9.","10","11","12","13","14","15","16","17","18","19","20"],n.textMargin=1,n.mass=400,n.inertia=6,n.create(),n}return d(a)}(m),w=new f;"function"==typeof define&&a.amdO?define((function(){return{DiceManager:w,DiceD4:p,DiceD6:y,DiceD8:v,DiceD10:b,DiceD12:g,DiceD20:x}})):void 0!==t.exports?t.exports={DiceManager:w,DiceD4:p,DiceD6:y,DiceD8:v,DiceD10:b,DiceD12:g,DiceD20:x}:window.Dice={DiceManager:w,DiceD4:p,DiceD6:y,DiceD8:v,DiceD10:b,DiceD12:g,DiceD20:x}},22511:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"audio/common/click.wav"},65581:(t,e,a)=>{a.d(e,{Z:()=>o});var n=a(1519),i=a.n(n)()((function(t){return t[1]}));i.push([t.id,".animation[data-v-4201cfe8]{height:350px;max-width:1200px;width:100%;z-index:3}.animation[data-v-4201cfe8] canvas{height:auto!important;width:100%!important;z-index:3}.message-container[data-v-4201cfe8]{height:0;position:relative;z-index:2}.message-container .message[data-v-4201cfe8]{left:50%;position:absolute;top:5px;transform:translateX(-50%)}",""]);const o=i},14872:(t,e,a)=>{a.d(e,{Z:()=>o});var n=a(1519),i=a.n(n)()((function(t){return t[1]}));i.push([t.id,".scale-enter[data-v-301c9fc3],.scale-leave-to[data-v-301c9fc3]{opacity:1;transform:scale(0)}.scale-enter-active[data-v-301c9fc3],.scale-leave-active[data-v-301c9fc3]{transition:all .3s}",""]);const o=i},43129:(t,e,a)=>{a.d(e,{Z:()=>o});var n=a(1519),i=a.n(n)()((function(t){return t[1]}));i.push([t.id,".bet-input[data-v-92361b9a]{max-width:250px}",""]);const o=i},10737:(t,e,a)=>{a.r(e),a.d(e,{default:()=>R});var n=a(15537),i=a(37177),o=a(17024),r=a(83240),s=a(91864),l=a(64340),c=a(84002),u=a(1125),h=a(2212),d=a(65596),f=a(9669),m=a.n(f),p=a(20629),y=a(80010),v=a(12169),b=a(74944),g=a(14083),x=a(28101),w=a(18001),P=a(22511);const _=a.p+"audio/dice-3d/win.wav",M=a.p+"audio/dice-3d/roll1.wav",C=a.p+"audio/dice-3d/roll2.wav",j=a.p+"audio/dice-3d/lose.wav";var k=a(34221);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function B(){B=function(){return t};var t={},e=Object.prototype,a=e.hasOwnProperty,n=Object.defineProperty||function(t,e,a){t[e]=a.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,a){return t[e]=a}}function c(t,e,a,i){var o=e&&e.prototype instanceof d?e:d,r=Object.create(o.prototype),s=new C(i||[]);return n(r,"_invoke",{value:w(t,a,s)}),r}function u(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function m(){}var p={};l(p,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&a.call(v,o)&&(p=v);var b=m.prototype=d.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(n,o,r,s){var l=u(t[n],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==S(h)&&a.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,r,s)}),(function(t){i("throw",t,r,s)})):e.resolve(h).then((function(t){c.value=t,r(c)}),(function(t){return i("throw",t,r,s)}))}s(l.arg)}var o;n(this,"_invoke",{value:function(t,a){function n(){return new e((function(e,n){i(t,a,e,n)}))}return o=o?o.then(n,n):n()}})}function w(t,e,a){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return k()}for(a.method=i,a.arg=o;;){var r=a.delegate;if(r){var s=P(r,a);if(s){if(s===h)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var l=u(t,e,a);if("normal"===l.type){if(n=a.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n="completed",a.method="throw",a.arg=l.arg)}}}function P(t,e){var a=e.method,n=t.iterator[a];if(void 0===n)return e.delegate=null,"throw"===a&&t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method)||"return"!==a&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+a+"' method")),h;var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(a.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=m,n(b,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:f,configurable:!0}),f.displayName=l(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(x.prototype),l(x.prototype,r,(function(){return this})),t.AsyncIterator=x,t.async=function(e,a,n,i,o){void 0===o&&(o=Promise);var r=new x(c(e,a,n,i),o);return t.isGeneratorFunction(a)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},g(b),l(b,s,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),a=[];for(var n in e)a.push(n);return a.reverse(),function t(){for(;a.length;){var n=a.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(a,n){return r.type="throw",r.arg=t,e.next=a,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],r=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),M(a),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var i=n.arg;M(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:j(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),h}},t}function O(t,e,a,n,i,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(n,i)}function Z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function D(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(a),!0).forEach((function(e){V(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function V(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==S(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===S(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const E={name:"Dice3D",components:{GameMessage:a(32727).Z,PlayControls:k.Z},mixins:[b.Z,g.Z,x.Z],data:function(){return{clickSound:P.Z,roll1Sound:M,roll2Sound:C,formIsValid:!0,loading:!1,playing:!1,refNumber:null,direction:-1,diceFillColor:(0,y.v)("dice-3d.fill_color"),diceFontColor:(0,y.v)("dice-3d.font_color"),bet:parseInt((0,y.v)("dice-3d.default_bet_amount"),10),roll:0,message:null,animation:{}}},computed:D(D({},(0,p.rn)("auth",["account"])),{},{dices:function(){return(0,y.v)("dice-3d.dice")},minRoll:function(){return(0,y.v)("dice-3d.dice").length},maxRoll:function(){return(0,y.v)("dice-3d.dice").reduce((function(t,e){return t+=(0,y.v)("dice-3d.dice_types")[e].max}),0)},rollsRangeLength:function(){return this.maxRoll-this.minRoll+1},minRefNumber:function(){return this.minRoll+1},maxRefNumber:function(){return this.maxRoll},houseEdge:function(){return(0,y.v)("dice-3d.house_edge")},winChance:function(){var t=-1===this.direction?(this.refNumber-this.minRoll)/this.rollsRangeLength*100:(this.maxRoll-this.refNumber+1)/this.rollsRangeLength*100;return(0,w.NM)(t,2)},payout:function(){var t=(100-this.houseEdge)/this.winChance;return(0,w.NM)(t,4)},rollLessText:function(){return this.minRoll<this.refNumber-1?this.$t("Roll {0} - {1}",[this.minRoll,this.refNumber-1]):this.$t("Roll {0}",[this.refNumber-1])},rollGreaterText:function(){return this.maxRoll>this.refNumber?this.$t("Roll {0} - {1}",[this.refNumber,this.maxRoll]):this.$t("Roll {0}",[this.refNumber])},sliderTrackColor:function(){return-1===this.direction?"grey":"primary"},sliderFillColor:function(){return-1===this.direction?"primary":"grey"}}),created:function(){this.refNumber=this.minRoll+Math.floor((this.maxRoll-this.minRoll)/2)},mounted:function(){var t=this;window.dice=this,this.animation={pos:null,velocity:null,container:null,scene:null,camera:null,renderer:null,world:null,floorWidth:0,floorHeight:0,width:this.$refs.ThreeJS.offsetWidth,height:this.$refs.ThreeJS.offsetHeight,aspect:this.$refs.ThreeJS.offsetWidth/this.$refs.ThreeJS.offsetHeight,camera_angle:10,camera_position:100,near:.01,far:1e4,diceValues:[],diceAnimationStep:0,isThrought:!1,dice:[],animate:function(){var e;if(t.animation.isThrought){for(e in t.animation.dice)t.animation.diceValues[e].steps.length>t.animation.diceAnimationStep&&t.animation.dice[e].setMeshFrom(t.animation.diceValues[e].steps[t.animation.diceAnimationStep]),t.animation.diceValues[e].sound.length>t.animation.diceAnimationStep&&t.animation.diceValues[e].sound[t.animation.diceAnimationStep]&&t.animation.diceValues[e].lastSound<t.animation.diceAnimationStep&&(0===t.animation.diceValues[e].lastSound?t.sound(t.roll1Sound):t.sound(t.roll2Sound),t.animation.diceValues[e].lastSound=t.animation.diceAnimationStep+5);t.animation.diceAnimationStep++}if(t.animation.renderer.render(t.animation.scene,t.animation.camera),requestAnimationFrame(t.animation.animate),t.animation.isThrought){var a=!0;for(e=0;e<t.animation.dice.length;e++)a=a&&!(t.animation.diceValues[e].steps.length>t.animation.diceAnimationStep);a&&(t.playing=!1,t.updateUserAccountBalance(t.animation.result.balance),t.animation.result.win>0?(t.sound(t.config.sounds.win||_),t.message=t.$t("You rolled")+" "+t.roll+" "+t.$t("and won")+" "+(0,v.decimal)(t.animation.result.win)):(t.sound(t.config.sounds.lose||j),t.message=t.$t("You rolled")+" "+t.roll),t.animation.isThrought=!1)}}},this.animation.scene=new h.xsS,this.animation.camera=new h.cPb(this.animation.camera_angle,this.animation.aspect,this.animation.near,this.animation.far),this.animation.scene.add(this.animation.camera),this.animation.camera.position.set(0,this.animation.camera_position,0),this.animation.camera.lookAt(0,0,0),this.animation.renderer=new h.CP7({antialias:!0,alpha:!0}),this.animation.renderer.setClearColor(0,0),this.animation.renderer.setSize(2*this.animation.width,2*this.animation.height),this.animation.renderer.shadowMap.enabled=!0,this.animation.renderer.shadowMap.type=h.ntZ,this.animation.container=this.$refs.ThreeJS,this.animation.container.appendChild(this.animation.renderer.domElement);var e=new h.Mig("#ffffff",.5);this.animation.scene.add(e);var a=new h.Ox3("#ffffff",.2);a.position.x=-1e3,a.position.y=1e3,a.position.z=1e3,this.animation.scene.add(a);var n=new h.PMe(15720405,.5);n.position.y=200,n.target.position.set(0,0,0),n.castShadow=!0,n.shadow.camera.near=50,n.shadow.camera.far=110,n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024,this.animation.scene.add(n),this.animation.floorHeight=2*Math.tan(this.animation.camera.fov*Math.PI/180/2)*Math.abs(this.animation.camera.position.y),this.animation.floorWidth=this.animation.floorHeight*this.animation.camera.aspect,this.animation.world=new u.World,this.animation.world.gravity.set(0,-98.2,0),this.animation.world.broadphase=new u.NaiveBroadphase,this.animation.world.solver.iterations=16,d.pj.setWorld(this.animation.world);var i,o=new u.Body({mass:0,shape:new u.Plane,material:d.pj.floorBodyMaterial});o.quaternion.setFromAxisAngle(new u.Vec3(1,0,0),-Math.PI/2),this.animation.world.add(o);var r=.85;(i=new u.Body({mass:0,shape:new u.Plane,material:d.pj.barrierBodyMaterial})).quaternion.setFromAxisAngle(new u.Vec3(0,1,0),-Math.PI),i.position.set(0,0,this.animation.floorHeight*r/2),this.animation.world.add(i),(i=new u.Body({mass:0,shape:new u.Plane,material:d.pj.barrierBodyMaterial})).quaternion.setFromAxisAngle(new u.Vec3(0,1,0),0),i.position.set(0,0,-this.animation.floorHeight*r/2),this.animation.world.add(i),window.barrier=i,window.CANNON=u,(i=new u.Body({mass:0,shape:new u.Plane,material:d.pj.barrierBodyMaterial})).quaternion.setFromAxisAngle(new u.Vec3(0,1,0),-Math.PI/2),i.position.set(this.animation.floorWidth*r/2,0,0),this.animation.world.add(i),(i=new u.Body({mass:0,shape:new u.Plane,material:d.pj.barrierBodyMaterial})).quaternion.setFromAxisAngle(new u.Vec3(0,1,0),Math.PI/2),i.position.set(-this.animation.floorWidth*r/2,0,0),this.animation.world.add(i);var s=this.diceFontColor,l=this.diceFillColor;this.dices.forEach((function(e,a){var n;switch(e){case"tetrahedron":n=new d.bb({size:1.5,backColor:l,fontColor:s});break;case"cube":n=new d.ly({size:1.5,backColor:l,fontColor:s});break;case"octahedron":n=new d._x({size:1.5,backColor:l,fontColor:s});break;case"dipyramid":n=new d.dl({size:1.5,backColor:l,fontColor:s});break;case"dodecahedron":n=new d.y_({size:1.5,backColor:l,fontColor:s});break;case"icosahedron":n=new d.ow({size:1.5,backColor:l,fontColor:s})}t.animation.scene.add(n.getObject()),t.animation.dice.push(n)})),this.animation.diceThrow=function(){null==t.animation.pos&&t.animation.randomDiceThrow();var e,a=t.animation.pos,n=t.animation.velocity;for(t.animation.isThrought=!0,t.animation.diceAnimationStep=0,t.animation.diceValues=[],Math.abs(n.x)>100&&(n.x/=Math.abs(n.x)/100),Math.abs(n.y)>100&&(n.y/=Math.abs(n.y)/100),Math.abs(n.z)>100&&(n.z/=Math.abs(n.z)/100),e=0;e<t.animation.dice.length;e++)t.animation.dice[e].getObject().position.x=a.x-e%3*1.5,t.animation.dice[e].getObject().position.y=a.y+1.5*Math.floor(e/3),t.animation.dice[e].getObject().position.z=a.z+e%3*1.5,t.animation.dice[e].updateBodyFromMesh(),t.animation.dice[e].getObject().body.velocity.set(n.x,n.y,n.z),t.animation.dice[e].getObject().body.angularVelocity.set(10*Math.random()-10,10*Math.random()-10,10*Math.random()-10),t.animation.diceValues.push({dice:t.animation.dice[e],value:e+1});var i=t.roll;for(e=0;e<t.animation.diceValues.length;e++)t.animation.diceValues[e].value=Math.ceil(Math.random()*Math.min(t.animation.diceValues[e].dice.values,i-(t.animation.diceValues.length-e-1))),i-=t.animation.diceValues[e].value;for(;i>0;)for(e=0;e<t.animation.diceValues.length;e++)if(t.animation.diceValues[e].value<t.animation.diceValues[e].dice.values){var r=Math.ceil(Math.random()*Math.min(t.animation.diceValues[e].dice.values-t.animation.diceValues[e].value,i));if(t.animation.diceValues[e].value+=r,(i-=r)<=0)break}d.pj.prepareValues(t.animation.diceValues,o),t.animation.pos=null,t.animation.velocity=null};var c=function(t){var e=Math.random()*Math.PI/5-Math.PI/5/2,a={x:t.x*Math.cos(e)-t.y*Math.sin(e),y:t.x*Math.sin(e)+t.y*Math.cos(e)};return 0===a.x&&(a.x=.01),0===a.y&&(a.y=.01),a};this.animation.randomDiceThrow=function(){var e=Math.random(),a={x:(2*e-1)*t.animation.floorWidth,y:-(2*e-1)*t.animation.floorHeight},n=.1*Math.sqrt(a.x*a.x+a.y*a.y),i=c(a),o={x:t.animation.floorWidth/2*(i.x>0?-1:1)*.9,y:10,z:t.animation.floorHeight/2*(i.y>0?-1:1)*.9},r=Math.abs(i.x/i.y);r>1?o.z/=r:o.x*=r;var s=c(a),l={x:s.x*n,y:-.01,z:s.y*n};t.animation.pos=o,t.animation.velocity=l};var f=function(t){var e=t.changedTouches;return e?{x:e[0].clientX,y:e[0].clientY}:{x:t.clientX,y:t.clientY}},m=function(e){e.preventDefault(),t.playing||(t.animation.mouse_time=(new Date).getTime(),t.animation.mouse_start=f(e))},p=function(e){if(void 0!==t.animation.mouse_start){e.stopPropagation();var a=f(e),n={x:a.x-t.animation.mouse_start.x,y:a.y-t.animation.mouse_start.y};t.animation.mouse_start=void 0;var i=Math.sqrt(n.x*n.x+n.y*n.y);if(!(i<Math.sqrt(t.animation.floorWidth*t.animation.floorHeight*.01))){var o=(new Date).getTime()-t.animation.mouse_time;o>2e3&&(o=2e3);var r=Math.sqrt((2500-o)/2500)*i*.001,s=c(n),l={x:t.animation.floorWidth/2*(s.x>0?-1:1)*.9,y:10,z:t.animation.floorHeight/2*(s.y>0?-1:1)*.9},u=Math.abs(s.x/s.y);u>1?l.z/=u:l.x*=u;var h=c(n),d={x:h.x*r,y:-.01,z:h.y*r};t.animation.pos=l,t.animation.velocity=d,t.play(t.bet)}}};this.animation.renderer.domElement.addEventListener("mousedown",m),this.animation.renderer.domElement.addEventListener("mouseup",p),this.animation.renderer.domElement.addEventListener("touchstart",m),this.animation.renderer.domElement.addEventListener("touchend",p),this.animation.world.step(1/60),requestAnimationFrame(this.animation.animate),this.animation.start=function(){t.animation.diceValues=[];for(var e=0;e<t.animation.dice.length;e++)t.animation.dice[e].getObject().position.x=e%3*1.7,t.animation.dice[e].getObject().position.y=15+1.7*Math.floor(e/3),t.animation.dice[e].getObject().position.z=e%3*1.7,t.animation.dice[e].getObject().quaternion.x=0,t.animation.dice[e].getObject().quaternion.y=0,t.animation.dice[e].getObject().quaternion.z=0,t.animation.dice[e].updateBodyFromMesh(),t.animation.dice[e].getObject().body.velocity.set(0,10,0),t.animation.dice[e].getObject().body.angularVelocity.set(0,5,0),t.animation.diceValues.push({dice:t.animation.dice[e],value:e+1});d.pj.prepareValues(t.animation.diceValues,o),t.animation.dice.forEach((function(t){return t.updateMeshFromBody()}))},this.animation.start()},beforeDestroy:function(){this.animation.animate=function(){}},methods:D(D({},(0,p.nv)({updateUserAccountBalance:"auth/updateUserAccountBalance",setProvablyFairGame:"provably-fair/set"})),{},{play:function(t){var e,a=this;return(e=B().mark((function e(){var n,i,o,r;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.loading=!0,a.playing=!0,a.message=null,a.updateUserAccountBalance(a.account.balance-t),n=a.getRoute("play"),i={hash:a.provablyFairGame.hash,bet:t,direction:a.direction,ref_number:a.refNumber},e.next=8,m().post(n,i);case 8:o=e.sent,r=o.data,a.loading=!1,a.roll=r.gameable.roll,a.setProvablyFairGame({key:a.gamePackageId,game:r.pf_game}),a.animation.result={balance:r.account.balance,win:r.win},a.animation.diceThrow(),a.$refs.controls.onGameCompleted(r);case 16:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,i){var o=e.apply(t,a);function r(t){O(o,n,i,r,s,"next",t)}function s(t){O(o,n,i,r,s,"throw",t)}r(void 0)}))})()},decrementRefNumber:function(){this.refNumber=Math.max(this.minRefNumber,--this.refNumber)},incrementRefNumber:function(){this.refNumber=Math.min(this.maxRefNumber,++this.refNumber)}})},I=E;var T=a(93379),N=a.n(T),$=a(65581),L={insert:"head",singleton:!1};N()($.Z,L);$.Z.locals;const R=(0,a(51900).Z)(I,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column fill-height py-3"},[e("div",{staticClass:"message-container"},[e("game-message",{staticClass:"message",attrs:{message:t.message}})],1),t._v(" "),e("div",{staticClass:"d-flex justify-center fill-height align-center"},[e("div",{ref:"ThreeJS",staticClass:"animation",attrs:{click:t.play}})]),t._v(" "),e("div",{staticClass:"d-flex justify-center flex-column"},[e(l.Z,{staticClass:"px-5",attrs:{"thumb-label":"always",min:t.minRefNumber,max:t.maxRefNumber,step:1,"track-color":t.sliderTrackColor,"track-fill-color":t.sliderFillColor},scopedSlots:t._u([{key:"prepend",fn:function(){return[e(s.Z,{on:{click:t.decrementRefNumber}},[t._v("\n          mdi-minus\n        ")])]},proxy:!0},{key:"append",fn:function(){return[e(s.Z,{on:{click:t.incrementRefNumber}},[t._v("\n          mdi-plus\n        ")])]},proxy:!0}]),model:{value:t.refNumber,callback:function(e){t.refNumber=e},expression:"refNumber"}}),t._v(" "),e("div",{staticClass:"align-self-center"},[e(r.Z,{staticClass:"d-md-flex",model:{value:t.formIsValid,callback:function(e){t.formIsValid=e},expression:"formIsValid"}},[e(o.Z,{staticClass:"pa-0",attrs:{cols:"12",md:"6"}},[e(c.Z,{staticClass:"text-center flex-grow-0 mr-0 mr-lg-2",attrs:{value:t.winChance,dense:"",outlined:"","full-width":!1,label:t.$t("Win chance"),disabled:!0}})],1),t._v(" "),e(o.Z,{staticClass:"pa-0",attrs:{cols:"12",md:"6"}},[e(c.Z,{staticClass:"text-center flex-grow-0 ml-0 ml-lg-2",attrs:{value:t.payout,dense:"",outlined:"","full-width":!1,label:t.$t("Payout"),disabled:!0}})],1)],1)],1),t._v(" "),e(i.Z,{staticClass:"align-self-center mb-3",attrs:{"active-class":"primary--text",mandatory:"",rounded:"",group:""},model:{value:t.direction,callback:function(e){t.direction=e},expression:"direction"}},[e(n.Z,{staticClass:"mx-1",attrs:{disabled:t.playing,small:"",value:-1},on:{click:function(e){return t.sound(t.clickSound)}}},[t._v("\n        "+t._s(t.rollLessText)+"\n      ")]),t._v(" "),e(n.Z,{staticClass:"mx-1",attrs:{disabled:t.playing,small:"",value:1},on:{click:function(e){return t.sound(t.clickSound)}}},[t._v("\n        "+t._s(t.rollGreaterText)+"\n      ")])],1)],1),t._v(" "),e("play-controls",{ref:"controls",attrs:{loading:t.loading,playing:t.playing,disabled:!t.formIsValid},on:{"bet-change":function(e){t.bet=e},play:t.play}})],1)}),[],!1,null,"4201cfe8",null).exports},75156:(t,e,a)=>{a.d(e,{Z:()=>n});const n={props:{message:{required:!0,validator:function(t){return"string"==typeof t||null===t}}}}},83091:(t,e,a)=>{a.d(e,{Z:()=>f});var n=a(20629),i=a(18001),o=a(74944),r=a(14083),s=a(28101),l=a(22511);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const f={mixins:[o.Z,r.Z,s.Z],props:{betLabel:{type:String,required:!1,default:""},playLabel:{type:String,required:!1,default:""},loading:{type:Boolean,required:!0},playing:{type:Boolean,required:!0},disabled:{type:Boolean,required:!1,default:!1},provable:{type:Boolean,required:!1,default:!0}},data:function(){return{bet:null,autoPlay:{baseBet:0,onWin:{reset:!0,amount:0},onLoss:{reset:!0,amount:0},games:[],minBet:0,maxBet:0,betsCount:0,maxBetsCount:0,maxBalance:0,minBalance:0,winsCount:0,lossesCount:0},autoPlayInProgress:!1,autoPlayEnabled:!1,autoPlaySettingsDialog:!1,autoPlayHistoryDialog:!1}},computed:h(h({},(0,n.rn)("auth",["account"])),{},{defaultBet:function(){return parseInt(this.config.default_bet_amount,10)},minBet:function(){return parseInt(this.config.min_bet,10)},maxBet:function(){return parseInt(this.config.max_bet,10)},betStep:function(){return parseInt(this.config.bet_change_amount,10)},autoPlaySupport:function(){return(0,i.U2)(this.config,"auto_play.enabled",!1)},autoPlayInterval:function(){return(0,i.U2)(this.config,"auto_play.interval")},isPlayDisabled:function(){return this.provable&&!this.provablyFairGame.hash||this.playing||void 0===this.account||this.bet>this.account.balance},autoPlayNetResult:function(){return this.autoPlay.games.reduce((function(t,e){return t+e.win-e.bet}),0)}}),watch:{bet:function(t,e){this.$emit("bet-change",(0,i.U)(t)?t:0)}},created:function(){var t=this;this.$nextTick((function(){t.bet=t.defaultBet}))},methods:{play:function(){this.sound(l.Z),this.autoPlaySupport&&this.autoPlayEnabled&&!this.autoPlayInProgress&&(this.autoPlayInProgress=!0,this.autoPlay.baseBet=this.bet,this.autoPlay.betsCount=0,this.autoPlay.winsCount=0,this.autoPlay.lossesCount=0,this.autoPlay.games=[]),this.$emit("play",this.bet,this.autoPlayInProgress)},decreaseBet:function(){this.sound(l.Z);var t=this.bet-this.betStep;this.bet=Math.max(this.minBet,t)},increaseBet:function(){this.sound(l.Z);var t=this.bet+this.betStep;this.bet=Math.min(this.maxBet,t)},onGameCompleted:function(t){var e=this;if(this.autoPlayEnabled){var a=t.win>t.bet;this.autoPlay.betsCount++,this.autoPlay.games.push({bet:t.bet,win:t.win}),a?(this.autoPlay.winsCount++,this.autoPlay.onWin.reset?this.setBet(this.autoPlay.baseBet):this.setBet(this.bet+this.autoPlay.onWin.amount)):(this.autoPlay.lossesCount++,this.autoPlay.onLoss.reset?this.setBet(this.autoPlay.baseBet):this.setBet(this.bet+this.autoPlay.onLoss.amount)),(this.bet>this.account.balance||this.autoPlay.minBalance>0&&this.account.balance<this.autoPlay.minBalance||this.autoPlay.maxBalance>0&&this.account.balance>this.autoPlay.maxBalance||this.autoPlay.maxBetsCount>0&&this.autoPlay.betsCount>=this.autoPlay.maxBetsCount)&&this.stopAutoPlay(),setTimeout((function(){e.autoPlayInProgress?e.play():e.stopAutoPlay()}),1e3*parseInt(this.autoPlayInterval))}},setBet:function(t){var e=this.autoPlay.maxBet>0?[t,this.maxBet,this.autoPlay.maxBet]:[t,this.maxBet],a=this.autoPlay.minBet>0?[this.minBet,this.autoPlay.minBet]:[this.minBet];this.bet=Math.max.apply(Math,[Math.min.apply(Math,e)].concat(a))},stopAutoPlay:function(){this.autoPlayInProgress=!1}}}},74971:(t,e,a)=>{a.d(e,{Z:()=>r});var n=a(80010),i=a(21556),o=a(18001);const r={computed:{gamePackageId:function(){return this.$route.params.game},gameSlug:function(){return this.$route.params.slug},config:function(){var t=this;return this.gameSlug?(0,n.v)(this.gamePackageId).variations.find((function(e){return e.slug===t.gameSlug})):(0,n.v)(this.gamePackageId)},provablyFairGame:function(){return this.$store.getters["provably-fair/get"](this.gamePackageId)||{}}},methods:{getRoute:function(t){return(0,i.B)("games.".concat(this.gamePackageId,".").concat(t))},loadCardDeck:function(){return(0,o.ab)(window.assets.deck)}}}},92800:(t,e,a)=>{var n=a(93379),i=a.n(n),o=a(14872),r={insert:"head",singleton:!1};i()(o.Z,r);o.Z.locals},97232:(t,e,a)=>{var n=a(93379),i=a.n(n),o=a(43129),r={insert:"head",singleton:!1};i()(o.Z,r);o.Z.locals},24474:(t,e,a)=>{a.d(e,{s:()=>i,x:()=>o});var n=a(22258),i=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"scale"}},[t.message?e(n.Z,{attrs:{dense:"",outlined:"",text:"",color:"primary"}},[t._v("\n    "+t._s(t.message)+"\n  ")]):t._e()],1)},o=[]},4877:(t,e,a)=>{a.d(e,{s:()=>p,x:()=>y});var n=a(15537),i=a(37177),o=a(85893),r=a(5255),s=a(17024),l=a(45578),c=a(83240),u=a(91864),h=a(57894),d=a(54437),f=a(22515),m=a(84002),p=function(){var t=this,e=t._self._c;return e(c.Z,{ref:"form",on:{submit:function(e){return e.preventDefault(),t.play.apply(null,arguments)}},model:{value:t.formIsValid,callback:function(e){t.formIsValid=e},expression:"formIsValid"}},[t.autoPlaySupport?e("div",{staticClass:"d-flex justify-center"},[e(i.Z,{staticClass:"align-self-center mb-3",attrs:{"active-class":"primary--text",mandatory:"",rounded:"",group:""},model:{value:t.autoPlayEnabled,callback:function(e){t.autoPlayEnabled=e},expression:"autoPlayEnabled"}},[e(n.Z,{staticClass:"mx-1",attrs:{disabled:t.playing||t.autoPlayInProgress,small:"",value:!1}},[t._v("\n        "+t._s(t.$t("Manual"))+"\n      ")]),t._v(" "),e(n.Z,{staticClass:"mx-1",attrs:{disabled:t.playing||t.autoPlayInProgress,small:"",value:!0}},[t._v("\n        "+t._s(t.$t("Auto"))+"\n      ")])],1),t._v(" "),e(l.Z,{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on,o=a.attrs;return[e(n.Z,t._g(t._b({attrs:{icon:"",color:"primary",disabled:!t.autoPlayEnabled||t.playing||t.autoPlayInProgress}},"v-btn",o,!1),i),[e(u.Z,[t._v("mdi-cog")])],1)]}}],null,!1,3358863509),model:{value:t.autoPlaySettingsDialog,callback:function(e){t.autoPlaySettingsDialog=e},expression:"autoPlaySettingsDialog"}},[t._v(" "),e(o.Z,[e(r.EB,{staticClass:"headline my-5"},[t._v("\n          "+t._s(t.$t("Auto play settings"))+"\n        ")]),t._v(" "),e(r.ZB,[e(m.Z,{staticClass:"text-center",attrs:{dense:"",outlined:"",label:t.$t("On loss"),rules:[t.validationInteger],readonly:t.autoPlay.onLoss.reset,suffix:t.$t("credits")},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[e(i.Z,{staticClass:"align-self-center",attrs:{"active-class":"primary--text",mandatory:"",rounded:"",group:""},model:{value:t.autoPlay.onLoss.reset,callback:function(e){t.$set(t.autoPlay.onLoss,"reset",e)},expression:"autoPlay.onLoss.reset"}},[e(n.Z,{attrs:{value:!0,small:""}},[t._v("\n                  "+t._s(t.$t("Reset to base"))+"\n                ")]),t._v(" "),e(n.Z,{attrs:{value:!1,small:""}},[t._v("\n                  "+t._s(t.$t("Change by"))+"\n                ")])],1)]},proxy:!0}],null,!1,3331114620),model:{value:t.autoPlay.onLoss.amount,callback:function(e){t.$set(t.autoPlay.onLoss,"amount",t._n(e))},expression:"autoPlay.onLoss.amount"}}),t._v(" "),e(m.Z,{staticClass:"text-center",attrs:{dense:"",outlined:"",label:t.$t("On win"),rules:[t.validationInteger],readonly:t.autoPlay.onWin.reset,suffix:t.$t("credits")},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[e(i.Z,{staticClass:"align-self-center",attrs:{"active-class":"primary--text",mandatory:"",rounded:"",group:""},model:{value:t.autoPlay.onWin.reset,callback:function(e){t.$set(t.autoPlay.onWin,"reset",e)},expression:"autoPlay.onWin.reset"}},[e(n.Z,{attrs:{value:!0,small:""}},[t._v("\n                  "+t._s(t.$t("Reset to base"))+"\n                ")]),t._v(" "),e(n.Z,{attrs:{value:!1,small:""}},[t._v("\n                  "+t._s(t.$t("Change by"))+"\n                ")])],1)]},proxy:!0}],null,!1,2613860143),model:{value:t.autoPlay.onWin.amount,callback:function(e){t.$set(t.autoPlay.onWin,"amount",t._n(e))},expression:"autoPlay.onWin.amount"}}),t._v(" "),e(m.Z,{staticClass:"text-center",attrs:{dense:"",outlined:"",label:t.$t("Number of games"),rules:[t.validationNonNegativeInteger]},model:{value:t.autoPlay.maxBetsCount,callback:function(e){t.$set(t.autoPlay,"maxBetsCount",t._n(e))},expression:"autoPlay.maxBetsCount"}}),t._v(" "),e(h.Z,[e(s.Z,{attrs:{cols:"12",md:"6"}},[e(m.Z,{staticClass:"text-center",attrs:{dense:"",outlined:"",label:t.$t("Min bet"),suffix:t.$t("credits"),rules:[t.validationNonNegativeInteger]},model:{value:t.autoPlay.minBet,callback:function(e){t.$set(t.autoPlay,"minBet",t._n(e))},expression:"autoPlay.minBet"}})],1),t._v(" "),e(s.Z,{attrs:{cols:"12",md:"6"}},[e(m.Z,{staticClass:"text-center",attrs:{dense:"",outlined:"",label:t.$t("Max bet"),suffix:t.$t("credits"),rules:[t.validationNonNegativeInteger]},model:{value:t.autoPlay.maxBet,callback:function(e){t.$set(t.autoPlay,"maxBet",t._n(e))},expression:"autoPlay.maxBet"}})],1)],1),t._v(" "),e(h.Z,[e(s.Z,{attrs:{cols:"12",md:"6"}},[e(m.Z,{staticClass:"text-center",attrs:{dense:"",outlined:"",prefix:t.$t("less than"),label:t.$t("Stop if balance is"),rules:[t.validationNonNegativeInteger]},model:{value:t.autoPlay.minBalance,callback:function(e){t.$set(t.autoPlay,"minBalance",t._n(e))},expression:"autoPlay.minBalance"}})],1),t._v(" "),e(s.Z,{attrs:{cols:"12",md:"6"}},[e(m.Z,{staticClass:"text-center",attrs:{dense:"",outlined:"",prefix:t.$t("greater than"),label:t.$t("Stop if balance is"),rules:[t.validationNonNegativeInteger]},model:{value:t.autoPlay.maxBalance,callback:function(e){t.$set(t.autoPlay,"maxBalance",t._n(e))},expression:"autoPlay.maxBalance"}})],1)],1)],1),t._v(" "),e(r.h7,[e(f.Z),t._v(" "),e(n.Z,{attrs:{color:"primary"},on:{click:function(e){t.autoPlaySettingsDialog=!1}}},[t._v("\n            "+t._s(t.$t("Apply"))+"\n          ")])],1)],1)],1),t._v(" "),e(l.Z,{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on,o=a.attrs;return[e(n.Z,t._g(t._b({attrs:{icon:"",color:"primary",disabled:!t.autoPlayEnabled||t.playing||t.autoPlayInProgress}},"v-btn",o,!1),i),[e(u.Z,[t._v("mdi-poll")])],1)]}}],null,!1,2222554209),model:{value:t.autoPlayHistoryDialog,callback:function(e){t.autoPlayHistoryDialog=e},expression:"autoPlayHistoryDialog"}},[t._v(" "),e(o.Z,[e(r.EB,{staticClass:"headline my-5"},[t._v("\n          "+t._s(t.$t("Auto play history"))+"\n        ")]),t._v(" "),e(r.ZB,[t.autoPlay.games.length?e(d.Z,{attrs:{dense:"","fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("\n                    #\n                  ")]),t._v(" "),e("th",{staticClass:"text-right"},[t._v("\n                    "+t._s(t.$t("Bet"))+"\n                  ")]),t._v(" "),e("th",{staticClass:"text-right"},[t._v("\n                    "+t._s(t.$t("Win"))+"\n                  ")])])]),t._v(" "),e("tbody",t._l(t.autoPlay.games,(function(a,n){return e("tr",{key:n},[e("td",{staticClass:"text-left"},[t._v("\n                    "+t._s(++n)+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v("\n                    "+t._s(a.bet)+"\n                  ")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v("\n                    "+t._s(a.win)+"\n                  ")])])})),0),t._v(" "),e("tfoot",[e("tr",[e("th",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t.$t("Total net win"))+"\n                  ")]),t._v(" "),e("th",{staticClass:"text-right",class:t.autoPlayNetResult>0?"green--text":"error--text"},[t._v("\n                    "+t._s(t.autoPlayNetResult.toFixed(2))+"\n                  ")])])])]},proxy:!0}],null,!1,4084813946)}):e("p",[t._v("\n            "+t._s(t.$t("No games played in the auto mode."))+"\n          ")])],1),t._v(" "),e(r.h7,[e(f.Z),t._v(" "),e(n.Z,{attrs:{color:"primary"},on:{click:function(e){t.autoPlayHistoryDialog=!1}}},[t._v("\n            "+t._s(t.$t("Close"))+"\n          ")])],1)],1)],1)],1):t._e(),t._v(" "),e("div",{staticClass:"d-flex justify-center flex-wrap mt-3"},[t._t("before-bet-input"),t._v(" "),e(m.Z,{staticClass:"bet-input text-center",attrs:{dense:"",outlined:"","full-width":!1,label:t.betLabel||t.$t("Bet"),disabled:t.playing,rules:[t.validationInteger,function(e){return t.validationMin(e,t.minBet)},function(e){return void 0!==t.account&&t.validationMax(e,Math.min(Math.floor(t.account.balance),t.maxBet))}],"prepend-inner-icon":"mdi-minus","append-icon":"mdi-plus"},on:{"click:prepend-inner":t.decreaseBet,"click:append":t.increaseBet},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[e(n.Z,{attrs:{small:"",text:"",icon:"",color:"primary"},on:{click:function(e){t.bet=t.minBet}}},[e(u.Z,{attrs:{small:""}},[t._v("\n            mdi-arrow-down\n          ")])],1),t._v(" "),e(n.Z,{attrs:{small:"",text:"",icon:"",color:"primary"},on:{click:t.decreaseBet}},[e(u.Z,{attrs:{small:""}},[t._v("\n            mdi-minus\n          ")])],1)]},proxy:!0},{key:"append",fn:function(){return[e(n.Z,{attrs:{small:"",text:"",icon:"",color:"primary"},on:{click:t.increaseBet}},[e(u.Z,{attrs:{small:""}},[t._v("\n            mdi-plus\n          ")])],1),t._v(" "),e(n.Z,{attrs:{small:"",text:"",icon:"",color:"primary"},on:{click:function(e){t.bet=t.maxBet}}},[e(u.Z,{attrs:{small:""}},[t._v("\n            mdi-arrow-up\n          ")])],1)]},proxy:!0}]),model:{value:t.bet,callback:function(e){t.bet=t._n(e)},expression:"bet"}}),t._v(" "),t._t("after-bet-input"),t._v(" "),t.autoPlayEnabled?e(n.Z,{staticClass:"ml-2",attrs:{color:"primary",disabled:!t.autoPlayInProgress,outlined:"",icon:"",tile:""},on:{click:t.stopAutoPlay}},[e(u.Z,[t._v("mdi-stop")])],1):t._e(),t._v(" "),e(n.Z,{staticClass:"ml-2",attrs:{type:"submit",color:"primary",loading:t.loading,disabled:t.disabled||!t.formIsValid||t.isPlayDisabled||t.autoPlayInProgress}},[t._v("\n      "+t._s(t.playLabel||t.$t("Play"))+"\n    ")]),t._v(" "),t._t("after-play-button")],2)])},y=[]}}]);